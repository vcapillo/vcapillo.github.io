{"remainingRequest":"/opt/workspace/mediumish-vuepress-blog-theme/node_modules/babel-loader/lib/index.js??ref--3-1!/opt/workspace/mediumish-vuepress-blog-theme/node_modules/cache-loader/dist/cjs.js??ref--0-0!/opt/workspace/mediumish-vuepress-blog-theme/node_modules/vue-loader/lib/index.js??vue-loader-options!/opt/workspace/mediumish-vuepress-blog-theme/components/Sticker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/opt/workspace/mediumish-vuepress-blog-theme/components/Sticker.vue","mtime":1658532433972},{"path":"/opt/workspace/mediumish-vuepress-blog-theme/node_modules/cache-loader/dist/cjs.js","mtime":1658533780128},{"path":"/opt/workspace/mediumish-vuepress-blog-theme/node_modules/babel-loader/lib/index.js","mtime":1658533779966},{"path":"/opt/workspace/mediumish-vuepress-blog-theme/node_modules/cache-loader/dist/cjs.js","mtime":1658533780128},{"path":"/opt/workspace/mediumish-vuepress-blog-theme/node_modules/vue-loader/lib/index.js","mtime":1658533780964}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZmluZENvbnRhaW5lckluVm0gfSBmcm9tICcuL3V0aWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsnc3RpY2snLCAndGFnJ10sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZWVkRmxvYXQ6IGZhbHNlLAogICAgICBzdGlja0JvdHRvbTogMAogICAgfTsKICB9LAoKICB3YXRjaDogewogICAgc3RpY2soKSB7CiAgICAgIHRoaXMudW5TdGljaygpOwogICAgICB0aGlzLnN0aWNrSGFuZGxlKCk7CiAgICB9CgogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnN0aWNrSGFuZGxlKCk7CiAgfSwKCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMudW5TdGljaygpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIHN0aWNrSGFuZGxlKCkgewogICAgICBpZiAoIXRoaXMuc3RpY2spIHJldHVybjsKICAgICAgY29uc3Qgc3RpY2tFbGVtZW50ID0gZmluZENvbnRhaW5lckluVm0odGhpcy5zdGljaywgdGhpcyk7CiAgICAgIGlmICghc3RpY2tFbGVtZW50KSByZXR1cm47CgogICAgICB0aGlzLl9zdGlja2VyU2Nyb2xsID0gKCkgPT4gewogICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICBjb25zdCBzY3JvbGxUb3AgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7CiAgICAgICAgdGhpcy5uZWVkRmxvYXQgPSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCAtIHNjcm9sbFRvcCAtIHJlY3QuaGVpZ2h0IDwgc3RpY2tFbGVtZW50Lm9mZnNldEhlaWdodDsKICAgICAgICB0aGlzLnN0aWNrQm90dG9tID0gc3RpY2tFbGVtZW50Lm9mZnNldEhlaWdodDsKICAgICAgfTsKCiAgICAgIHRoaXMuX3N0aWNrZXJTY3JvbGwoKTsKCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9zdGlja2VyU2Nyb2xsKTsKICAgIH0sCgogICAgdW5TdGljaygpIHsKICAgICAgdGhpcy5uZWVkRmxvYXQgPSBmYWxzZTsKICAgICAgdGhpcy5zdGlja0JvdHRvbSA9IDA7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9zdGlja2VyU2Nyb2xsKTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"names":["findContainerInVm","props","data","needFloat","stickBottom","watch","stick","unStick","stickHandle","mounted","beforeDestroy","methods","stickElement","_stickerScroll","rect","$el","getBoundingClientRect","scrollTop","document","body","documentElement","offsetHeight","height","window","addEventListener","removeEventListener"],"sources":["/opt/workspace/mediumish-vuepress-blog-theme/components/Sticker.vue"],"sourcesContent":["\nimport { findContainerInVm } from './util'\nexport default {\n  props: ['stick', 'tag'],\n\n  data() {\n    return {\n      needFloat: false,\n      stickBottom: 0,\n    }\n  },\n\n  watch: {\n    stick() {\n      this.unStick()\n      this.stickHandle()\n    },\n  },\n\n  mounted() {\n    this.stickHandle()\n  },\n\n  beforeDestroy() {\n    this.unStick()\n  },\n\n  methods: {\n    stickHandle() {\n      if (!this.stick) return\n      const stickElement = findContainerInVm(this.stick, this)\n      if (!stickElement) return\n\n      this._stickerScroll = () => {\n        const rect = this.$el.getBoundingClientRect()\n        const scrollTop =\n          document.body.scrollTop + document.documentElement.scrollTop\n        this.needFloat =\n          document.body.offsetHeight - scrollTop - rect.height <\n          stickElement.offsetHeight\n        this.stickBottom = stickElement.offsetHeight\n      }\n\n      this._stickerScroll()\n      window.addEventListener('scroll', this._stickerScroll)\n    },\n\n    unStick() {\n      this.needFloat = false\n      this.stickBottom = 0\n      window.removeEventListener('scroll', this._stickerScroll)\n    },\n  },\n}\n"],"mappings":"AACA,SAASA,iBAAT,QAAkC,QAAlC;AACA,eAAe;EACbC,KAAK,EAAE,CAAC,OAAD,EAAU,KAAV,CADM;;EAGbC,IAAI,GAAG;IACL,OAAO;MACLC,SAAS,EAAE,KADN;MAELC,WAAW,EAAE;IAFR,CAAP;EAID,CARY;;EAUbC,KAAK,EAAE;IACLC,KAAK,GAAG;MACN,KAAKC,OAAL;MACA,KAAKC,WAAL;IACD;;EAJI,CAVM;;EAiBbC,OAAO,GAAG;IACR,KAAKD,WAAL;EACD,CAnBY;;EAqBbE,aAAa,GAAG;IACd,KAAKH,OAAL;EACD,CAvBY;;EAyBbI,OAAO,EAAE;IACPH,WAAW,GAAG;MACZ,IAAI,CAAC,KAAKF,KAAV,EAAiB;MACjB,MAAMM,YAAY,GAAGZ,iBAAiB,CAAC,KAAKM,KAAN,EAAa,IAAb,CAAtC;MACA,IAAI,CAACM,YAAL,EAAmB;;MAEnB,KAAKC,cAAL,GAAsB,MAAM;QAC1B,MAAMC,IAAI,GAAG,KAAKC,GAAL,CAASC,qBAAT,EAAb;QACA,MAAMC,SAAS,GACbC,QAAQ,CAACC,IAAT,CAAcF,SAAd,GAA0BC,QAAQ,CAACE,eAAT,CAAyBH,SADrD;QAEA,KAAKd,SAAL,GACEe,QAAQ,CAACC,IAAT,CAAcE,YAAd,GAA6BJ,SAA7B,GAAyCH,IAAI,CAACQ,MAA9C,GACAV,YAAY,CAACS,YAFf;QAGA,KAAKjB,WAAL,GAAmBQ,YAAY,CAACS,YAAhC;MACD,CARD;;MAUA,KAAKR,cAAL;;MACAU,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKX,cAAvC;IACD,CAlBM;;IAoBPN,OAAO,GAAG;MACR,KAAKJ,SAAL,GAAiB,KAAjB;MACA,KAAKC,WAAL,GAAmB,CAAnB;MACAmB,MAAM,CAACE,mBAAP,CAA2B,QAA3B,EAAqC,KAAKZ,cAA1C;IACD;;EAxBM;AAzBI,CAAf"}]}